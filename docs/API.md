## Members

<dl>
<dt><a href="#joinMonster">joinMonster</a> ⇒ <code>Promise.&lt;Object&gt;</code></dt>
<dd><p>Takes the GraphQL resolveInfo and returns a hydrated Object with the data.</p>
</dd>
<dt><a href="#getNode">getNode</a> ⇒ <code>Promise.&lt;Object&gt;</code></dt>
<dd><p>A helper for resolving the Node type in Relay.</p>
</dd>
</dl>

## Typedefs

<dl>
<dt><a href="#dbCall">dbCall</a> ⇒ <code>Promise.&lt;Array&gt;</code></dt>
<dd><p>User-defined function that sends a raw SQL query to the databse.</p>
</dd>
<dt><a href="#sqlExpr">sqlExpr</a> ⇒ <code>String</code> | <code>Promise.&lt;String&gt;</code></dt>
<dd><p>Function for generating a SQL expression.</p>
</dd>
<dt><a href="#where">where</a> ⇒ <code>String</code> | <code>Promise.&lt;String&gt;</code></dt>
<dd><p>Function for generating a <code>WHERE</code> condition.</p>
</dd>
<dt><a href="#sqlJoin">sqlJoin</a> ⇒ <code>String</code></dt>
<dd><p>Function for generating a <code>JOIN</code> condition.</p>
</dd>
<dt><a href="#thunk">thunk</a> : <code>function</code></dt>
<dd><p>Rather than a constant value, its a function to dynamically return the value.</p>
</dd>
</dl>

<a name="joinMonster"></a>

## joinMonster ⇒ <code>Promise.&lt;Object&gt;</code>
Takes the GraphQL resolveInfo and returns a hydrated Object with the data.

**Returns**: <code>Promise.&lt;Object&gt;</code> - The correctly nested data from the database.  

| Param | Type | Description |
| --- | --- | --- |
| resolveInfo | <code>Object</code> | Contains the parsed GraphQL query, schema definition, and more. Obtained from the fourth argument to the resolver. |
| context | <code>Object</code> | An arbitrary object that gets passed to the `where` function. Useful for contextual infomation that influeces the  `WHERE` condition, e.g. session, logged in user, localization. |
| dbCall | [<code>dbCall</code>](#dbCall) | A function that is passed the compiled SQL that calls the database and returns a promise of the data. |
| [options] | <code>Object</code> |  |
| options.minify | <code>Boolean</code> | Generate minimum-length column names in the results table. |
| options.dialect | <code>String</code> | The dialect of SQL your Database uses. Currently `'pg'`, `'oracle'`, `'mariadb'`, `'mysql'`, and `'sqlite3'` are supported. |
| options.dialectModule | <code>Object</code> | An alternative to options.dialect. You can provide a custom implementation of one of the supported dialects. |

<a name="getNode"></a>

## getNode ⇒ <code>Promise.&lt;Object&gt;</code>
A helper for resolving the Node type in Relay.

**Returns**: <code>Promise.&lt;Object&gt;</code> - The correctly nested data from the database. The GraphQL Type is added to the "\_\_type\_\_" property, which is helpful for the `resolveType` function in the `nodeDefinitions` of **graphql-relay-js**.  

| Param | Type | Description |
| --- | --- | --- |
| typeName | <code>String</code> | The Name of the GraphQLObjectType |
| resolveInfo | <code>Object</code> | Contains the parsed GraphQL query, schema definition, and more. Obtained from the fourth argument to the resolver. |
| context | <code>Object</code> | An arbitrary object that gets passed to the `where` function. Useful for contextual infomation that influeces the  WHERE condition, e.g. session, logged in user, localization. |
| condition | [<code>where</code>](#where) \| <code>Number</code> \| <code>String</code> \| <code>Array</code> | A value to determine the `where` function for searching the node. If it's a function, that function will be used as the `where` function. Otherwise, it is assumed to be the value(s) of the `primaryKey`. An array of values is needed for composite primary keys. |
| dbCall | <code>function</code> | A function that is passed the compiled SQL that calls the database and returns (a promise of) the data. |
| [options] | <code>Object</code> | Same as `joinMonster` function's options. |

<a name="dbCall"></a>

## dbCall ⇒ <code>Promise.&lt;Array&gt;</code>
User-defined function that sends a raw SQL query to the databse.

**Returns**: <code>Promise.&lt;Array&gt;</code> - The raw data as a flat array of objects. Each object must represent a row from the result set.  

| Param | Type | Description |
| --- | --- | --- |
| sql | <code>String</code> | The SQL generated by `joinMonster` for the batch fetching. Use it to get the data from your database. |
| [done] | <code>function</code> | An error-first "done" callback. Only define this parameter if you don't want to return a `Promise`. |

<a name="sqlExpr"></a>

## sqlExpr ⇒ <code>String</code> \| <code>Promise.&lt;String&gt;</code>
Function for generating a SQL expression.

**Returns**: <code>String</code> \| <code>Promise.&lt;String&gt;</code> - The RAW expression interpolated into the query to compute the column. Unsafe user input must be scrubbed.  

| Param | Type | Description |
| --- | --- | --- |
| tableAlias | <code>String</code> | The alias generated for this table. Already double-quoted. |
| args | <code>Object</code> | The GraphQL arguments for this field. |
| context | <code>Object</code> | An Object with arbitrary contextual information. |
| sqlASTNode | <code>Object</code> | Join Monster object that abstractly represents this field. Also includes a reference to its parent node. This is useful, for example, if you need to access the parent field's table alias or GraphQL arguments. |

<a name="where"></a>

## where ⇒ <code>String</code> \| <code>Promise.&lt;String&gt;</code>
Function for generating a `WHERE` condition.

**Returns**: <code>String</code> \| <code>Promise.&lt;String&gt;</code> - The RAW condition for the `WHERE` clause. Omitted if falsy value returned. Unsafe user input must be scrubbed.  

| Param | Type | Description |
| --- | --- | --- |
| tableAlias | <code>String</code> | The alias generated for this table. Already double-quoted. |
| args | <code>Object</code> | The GraphQL arguments for this field. |
| context | <code>Object</code> | An Object with arbitrary contextual information. |
| sqlASTNode | <code>Object</code> | Join Monster object that abstractly represents this field. Also includes a reference to its parent node. This is useful, for example, if you need to access the parent field's table alias or GraphQL arguments. |

<a name="sqlJoin"></a>

## sqlJoin ⇒ <code>String</code>
Function for generating a `JOIN` condition.

**Returns**: <code>String</code> - The RAW condition for the `LEFT JOIN`. Unsafe user input must be scrubbed.  

| Param | Type | Description |
| --- | --- | --- |
| parentTable | <code>String</code> | The alias generated for the parent's table. Already double-quoted. |
| childTable | <code>String</code> | The alias for the child's table. Already double-quoted. |
| args | <code>Object</code> | The GraphQL arguments for this field. |
| context | <code>Object</code> | An Object with arbitrary contextual information. |
| sqlASTNode | <code>Object</code> | Join Monster object that abstractly represents this field. Also includes a reference to its parent node. This is useful, for example, if you need to access the parent field's table alias or GraphQL arguments. |

<a name="thunk"></a>

## thunk : <code>function</code>
Rather than a constant value, it's a function to dynamically return the value.


| Param | Type | Description |
| --- | --- | --- |
| args | <code>Object</code> | The GraphQL arguments for this field. |
| context | <code>Object</code> | An Object with arbitrary contextual information. |

